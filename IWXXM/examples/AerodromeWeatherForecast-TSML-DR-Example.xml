<?xml version="1.0" encoding="UTF-8"?>
<!--
    A sample file for Aerodrome Weather Forecast Objects

-->
<iwxxm:AviationWeatherForecast 
    xmlns:iwxxm="http://icao.int/iwxxm/sx"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:gml="http://www.opengis.net/gml/3.2"
    xmlns:aixm="http://www.aixm.aero/schema/5.1.1"
    xmlns:tsml-iwxxm="http://www.opengis.net/timeseriesml/1.3/iwxxm"
    xmlns:swe="http://www.opengis.net/swe/2.0"
    xmlns:cis="http://www.opengis.net/cis/1.1/gml"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.aixm.aero/schema/5.1.1 http://www.aixm.aero/schema/5.1.1/AIXM_Features.xsd
    http://icao.int/iwxxm/sx ../iwxxm.xsd"
    gml:id="uuid.ce3b61b9-d360-4da1-83b9-67e668406869" reportStatus="NORMAL" permissibleUsage="OPERATIONAL">

    <!-- Unique identifier of the collective -->
    <gml:identifier codeSpace="http://wafs/sigwxfc">3ae2138f-12d8-4392-b4d7-7a2d2e2e55d8</gml:identifier>
    
    <!-- A temporal bounding box containing the phenomenonTime of all objects -->
    <iwxxm:boundingPeriod>
        <gml:TimePeriod gml:id="uuid.76096601-6d6c-41f8-ad23-a25b1a8f3658">
            <gml:beginPosition>2001-01-31T00:00:00Z</gml:beginPosition>
            <gml:endPosition>2001-01-31T06:00:00Z</gml:endPosition>
        </gml:TimePeriod>
    </iwxxm:boundingPeriod>
    
    <!-- A spatial bounding box containing the phenomenonGeometry of all objects -->
    <iwxxm:boundingVolume>
        <iwxxm:ElevatedEnvelope>
            <gml:lowerCorner srsDimension="2" axisLabels="Lat Long" srsName="http://www.opengis.net/def/crs/EPSG/0/4326">-90 -180</gml:lowerCorner>
            <gml:upperCorner srsDimension="2" axisLabels="Lat Long" srsName="http://www.opengis.net/def/crs/EPSG/0/4326">90 180</gml:upperCorner>
            <iwxxm:upperElevation uom="FL">600</iwxxm:upperElevation>
            <iwxxm:upperVerticalReference>STD</iwxxm:upperVerticalReference>
            <iwxxm:lowerElevation uom="FL">100</iwxxm:lowerElevation>
            <iwxxm:lowerVerticalReference>STD</iwxxm:lowerVerticalReference>
        </iwxxm:ElevatedEnvelope>
    </iwxxm:boundingVolume>
    
    <!-- A list of all phenomena of all objects -->
    <iwxxm:phenomenaList xlink:href="http://codes.wmo.int/49-2/MeteorologicalFeature/PHENOMENON"/>
    
    <!-- Issue time of the collective -->
    <iwxxm:issueTime>
        <gml:TimeInstant gml:id="uuid.4b5156bd-32e1-4fc9-a8f0-8f6b6c96e544">
            <gml:timePosition>2001-01-30T21:00:00Z</gml:timePosition>
        </gml:TimeInstant>
    </iwxxm:issueTime>
    
    <!-- Originating centre of the collective -->
    <iwxxm:originatingCentre>
        <iwxxm:WorldAreaForecastCentre>London</iwxxm:WorldAreaForecastCentre>
    </iwxxm:originatingCentre>
    
    <!-- Category of objects, either weatherObservations or weatherForecasts -->
    <iwxxm:phenomenonCategory>weatherForecasts</iwxxm:phenomenonCategory>
    
    <!-- If the category is weatherForecasts the forecast base time (if available) -->
    <iwxxm:phenomenonBaseTime>
        <gml:TimeInstant gml:id="uuid.825a0f0f-0b48-4a0b-9270-7f1075fed151">
            <gml:timePosition>2001-01-30T18:00:00Z</gml:timePosition>
        </gml:TimeInstant>
    </iwxxm:phenomenonBaseTime>
    
    <!-- phenomenonTime is the time when the collective is valid -->
    <iwxxm:phenomenonTime>
        <gml:TimePeriod gml:id="uuid.26328dbd-c763-4fd4-9b3c-40a6400795f0">
            <gml:beginPosition>2001-01-31T00:00:00Z</gml:beginPosition>
            <gml:endPosition>2001-01-31T06:00:00Z</gml:endPosition>
        </gml:TimePeriod>
    </iwxxm:phenomenonTime>
    
    <!-- A wind weather forecast object with a timeseries in two different regular interval parts -->
    <iwxxm:feature>
        <iwxxm:AerodromeWeatherPhenomenonForecast gml:id="wxobj1">
            <gml:identifier codeSpace="http://wafs/sigwxobj">wxobj1</gml:identifier>
            <iwxxm:phenomenon xlink:href="http://preferred.observable-property.registry/wind"/>
            <iwxxm:phenomenonGeometry>
                <gml:Polygon gml:id="area1">
                    <gml:exterior>
                        <gml:LinearRing>
                            <gml:posList></gml:posList>
                        </gml:LinearRing>
                    </gml:exterior>
                </gml:Polygon>
            </iwxxm:phenomenonGeometry>
            <iwxxm:phenomenonProperty>
                <iwxxm:WeatherPhenomenonTimeseriesDR gml:id="windPart1">
                    <iwxxm:values>
                        <tsml-iwxxm:TimeseriesDomainRange gml:id="dr1">
                            <cis:DomainSet>
                                <!-- Cannot use timestamps here as they as a notation of a calendar, not a proper CRS -->
                                <!-- UnixTime is a well-defined TemporalCRS that you can do aritmethics with, but it's not very readable -->
                                <cis:GeneralGrid srsName="http://www.opengis.net/def/crs/OGC/0/UnixTime" axisLabels="t">
                                    <!-- First part is a series of one hour at 10 minute intervals -->
                                    <!-- lower: 2001-01-31T00:00:00Z -->
                                    <!-- upper: 2001-01-31T00:50:00Z -->
                                    <cis:RegularAxis lowerBound="980899200" upperBound="980902200" resolution="600" uomLabel="s" axisLabel="t" />
                                </cis:GeneralGrid>
                            </cis:DomainSet>
                            <cis:RangeSet>
                                <cis:DataBlock>
                                    <cis:CV>
                                        <cis:V>1.0</cis:V><cis:V>110</cis:V><cis:V>1.5</cis:V>
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>2.2</cis:V><cis:V>105</cis:V><cis:V>3.5</cis:V>
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>3.0</cis:V><cis:V>95.1</cis:V><cis:V>4.0</cis:V>
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>1.5</cis:V><cis:V>94.0</cis:V><cis:V>2.0</cis:V>
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>1.5</cis:V><cis:V>94.0</cis:V><cis:V>2.5</cis:V>
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>1.5</cis:V><cis:V>94.0</cis:V><cis:V>2.3</cis:V>
                                    </cis:CV>
                                </cis:DataBlock>
                            </cis:RangeSet>
                            <cis:RangeType>
                                <swe:DataRecord>
                                    <swe:field name="windSpeed">
                                        <swe:Quantity definition="http://preferred.observable-property.registry/windSpeed">
                                            <swe:label>Wind speed</swe:label>
                                            <swe:uom xlink:href="https://unitsofmeasure.org/ucum#m_s" code="m/s"/>
                                        </swe:Quantity>
                                    </swe:field>
                                    <swe:field name="windDirection">
                                        <swe:Quantity definition="http://preferred.observable-property.registry/windDirection">
                                            <swe:label>Wind direction</swe:label>
                                            <swe:uom xlink:href="https://unitsofmeasure.org/ucum#deg" code="deg"/>
                                        </swe:Quantity>
                                    </swe:field>
                                    <swe:field name="windGust">
                                        <swe:Quantity definition="http://preferred.observable-property.registry/windGust">
                                            <swe:label>Wind gust</swe:label>
                                            <swe:uom xlink:href="https://unitsofmeasure.org/ucum#deg" code="m/s"/>
                                        </swe:Quantity>
                                    </swe:field>
                                </swe:DataRecord>
                            </cis:RangeType>
                            <tsml-iwxxm:type xlink:href="http://www.opengis.net/def/timeseriesType/timeseriesML/1.3/Time/MeasurementTimeseriesDomainRange" />
                            <tsml-iwxxm:metadata>
                                <tsml-iwxxm:TimeseriesMetadataExtension>
                                    <tsml-iwxxm:defaultPointMetadata>
                                        <tsml-iwxxm:PointMetadata>
                                            <tsml-iwxxm:interpolationType xlink:href="http://www.opengis.net/def/timeseries/InterpolationCode/AveragePrec"/>
                                            <tsml-iwxxm:aggregationDuration>PT10M</tsml-iwxxm:aggregationDuration>
                                        </tsml-iwxxm:PointMetadata>
                                    </tsml-iwxxm:defaultPointMetadata>
                                </tsml-iwxxm:TimeseriesMetadataExtension>
                            </tsml-iwxxm:metadata>
                        </tsml-iwxxm:TimeseriesDomainRange>
                    </iwxxm:values>
                    
                    <!-- Navigation link to the next part: -->
                    <iwxxm:next xlink:href="#wind2"/>
                    
                </iwxxm:WeatherPhenomenonTimeseriesDR>
            </iwxxm:phenomenonProperty>
            
            <iwxxm:phenomenonProperty>
                <iwxxm:WeatherPhenomenonTimeseriesDR gml:id="windPart2">
                    <iwxxm:values>
                        <tsml-iwxxm:TimeseriesDomainRange gml:id="dr2">
                            <cis:DomainSet>
                                <!-- Cannot use timestamps here as they as a notation of a calendar, not a proper CRS -->
                                <!-- UnixTime is a well-defined TemporalCRS that you can do aritmethics with, but it's not very readable -->
                                <cis:GeneralGrid srsName="http://www.opengis.net/def/crs/OGC/0/UnixTime" axisLabels="t">
                                    <!-- First part is a series of one hour at 10 minute intervals -->
                                    <!-- lower: 2001-01-31T01:00:00Z -->
                                    <!-- upper: 2001-01-31T06:00:00Z -->
                                    <cis:RegularAxis lowerBound="980902800" upperBound="980920800" resolution="3600" uomLabel="s" axisLabel="t" />
                                </cis:GeneralGrid>
                            </cis:DomainSet>
                            <cis:RangeSet>
                                <cis:DataBlock>
                                    <cis:CV>
                                        <cis:V>1.5</cis:V><cis:V>121</cis:V><cis:V>2.0</cis:V>
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>2.0</cis:V><cis:V>125</cis:V><cis:V>2.5</cis:V>
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>2.2</cis:V><cis:V>130</cis:V><cis:V>3.0</cis:V>
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>1.7</cis:V><cis:V>128</cis:V><cis:V>2.4</cis:V> 
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>1.7</cis:V><cis:V>128</cis:V><cis:V>2.0</cis:V> 
                                    </cis:CV>
                                    <cis:CV>
                                        <cis:V>1.7</cis:V><cis:V>128</cis:V><cis:V>2.2</cis:V> 
                                    </cis:CV>
                                </cis:DataBlock>
                            </cis:RangeSet>
                            <cis:RangeType>
                                <swe:DataRecord>
                                    <swe:field name="windSpeed">
                                        <swe:Quantity definition="http://preferred.observable-property.registry/windSpeed">
                                            <swe:label>Wind direction</swe:label>
                                            <swe:uom xlink:href="https://unitsofmeasure.org/ucum#m_s" code="m/s"/>
                                        </swe:Quantity>
                                    </swe:field>
                                    <swe:field name="windDirection">
                                        <swe:Quantity definition="http://preferred.observable-property.registry/windDirection">
                                            <swe:label>Wind direction</swe:label>
                                            <swe:uom xlink:href="https://unitsofmeasure.org/ucum#deg" code="deg"/>
                                        </swe:Quantity>
                                    </swe:field>
                                    <swe:field name="windGust">
                                        <swe:Quantity definition="http://preferred.observable-property.registry/windGust">
                                            <swe:label>Wind gust</swe:label>
                                            <swe:uom xlink:href="https://unitsofmeasure.org/ucum#deg" code="m/s"/>
                                        </swe:Quantity>
                                    </swe:field>
                                </swe:DataRecord>
                            </cis:RangeType>
                            <tsml-iwxxm:type xlink:href="http://www.opengis.net/def/timeseriesType/timeseriesML/1.3/Time/MeasurementTimeseriesDomainRange" />
                            <tsml-iwxxm:metadata>
                                <tsml-iwxxm:TimeseriesMetadataExtension>
                                    <tsml-iwxxm:defaultPointMetadata>
                                        <tsml-iwxxm:PointMetadata>
                                            <tsml-iwxxm:interpolationType xlink:href="http://www.opengis.net/def/timeseries/InterpolationCode/AveragePrec"/>
                                            <tsml-iwxxm:aggregationDuration>PT10M</tsml-iwxxm:aggregationDuration>
                                        </tsml-iwxxm:PointMetadata>
                                    </tsml-iwxxm:defaultPointMetadata>
                                </tsml-iwxxm:TimeseriesMetadataExtension>
                            </tsml-iwxxm:metadata>
                        </tsml-iwxxm:TimeseriesDomainRange>
                    </iwxxm:values>
                    
                    <!-- Navigation link to the previous part: -->
                    <iwxxm:previous xlink:href="#wind1"/>
                    
                </iwxxm:WeatherPhenomenonTimeseriesDR>
            </iwxxm:phenomenonProperty>
            <iwxxm:aerodrome>
                <aixm:AirportHeliport gml:id="a1234">
                    <aixm:timeSlice>
                        <aixm:AirportHeliportTimeSlice gml:id="b45677">
                            <gml:validTime></gml:validTime>
                            <aixm:interpretation>SNAPSHOT</aixm:interpretation>
                            <aixm:designator>DONLON</aixm:designator>
                            <aixm:ARP>
                                <aixm:ElevatedPoint gml:id="uuid.4f5ce1f8-ae4c-4dea-99c7-6bc15ca6b004" srsDimension="2" axisLabels="Lat Long" srsName="http://www.opengis.net/def/crs/EPSG/0/4326">
                                    <gml:pos>12.34 -12.34</gml:pos>
                                    <aixm:elevation uom="M">12</aixm:elevation>
                                    <aixm:verticalDatum>EGM_96</aixm:verticalDatum>
                                </aixm:ElevatedPoint>
                            </aixm:ARP>
                        </aixm:AirportHeliportTimeSlice>
                    </aixm:timeSlice>
                </aixm:AirportHeliport>
            </iwxxm:aerodrome>
        </iwxxm:AerodromeWeatherPhenomenonForecast>
    </iwxxm:feature>
    
    <!-- A significant weather forecast object with a timeseries in one part -->
    <iwxxm:feature>
        <iwxxm:AerodromeWeatherPhenomenonForecast gml:id="wxobj2">
            <gml:identifier codeSpace="http://wafs/sigwxobj">wxobj2</gml:identifier>
            <iwxxm:phenomenon xlink:href="http://preferred.observable-property.registry/significantAviationWeather"/>
            <iwxxm:phenomenonGeometry xlink:href="#a1234"/>
            <iwxxm:phenomenonProperty>
                <iwxxm:WeatherPhenomenonTimeseriesDR gml:id="weather1">
                    <iwxxm:values>
                        <tsml-iwxxm:TimeseriesDomainRange gml:id="dr3">
                            <cis:DomainSet>
                                <!-- Cannot use timestamps here as they as a notation of a calendar, not a proper CRS -->
                                <!-- UnixTime is a well-defined TemporalCRS that you can do aritmethics with, but it's not very readable -->
                                <cis:GeneralGrid srsName="http://www.opengis.net/def/crs/OGC/0/UnixTime" axisLabels="t">
                                    <!-- First part is a series of one hour at 10 minute intervals -->
                                    <!-- lower: 2001-01-31T00:00:00Z -->
                                    <!-- upper: 2001-01-31T06:00:00Z -->
                                    <cis:RegularAxis lowerBound="980899200" upperBound="980920800" resolution="3600" uomLabel="s" axisLabel="t" />  
                                </cis:GeneralGrid>
                            </cis:DomainSet>
                            <cis:RangeSet>
                                <cis:DataBlock>
                                    <cis:V>TSSN</cis:V>
                                    <cis:V>TSSNGR</cis:V>
                                    <cis:V>TSSNRA</cis:V>
                                    <cis:V>-TSRA</cis:V>
                                    <cis:V>-TSRA</cis:V>
                                    <cis:V>-TSRA</cis:V>
                                </cis:DataBlock>
                            </cis:RangeSet>
                            <cis:RangeType>
                                <swe:DataRecord>
                                    <swe:field name="significantWeatherCode">
                                        <swe:Category definition="https://codes.wmo.int/306/4678">
                                            <swe:description>Significant [recent], present and forecast weather - enumerating the set of meteorologically valid options defined in WMO No. 306 Vol 1 code-table 4678</swe:description>
                                        </swe:Category>
                                    </swe:field>
                                </swe:DataRecord>
                            </cis:RangeType>
                            <tsml-iwxxm:type xlink:href="http://www.opengis.net/def/timeseriesType/timeseriesML/1.3/Time/CategoricalTimeseriesDomainRange" />
                        </tsml-iwxxm:TimeseriesDomainRange>
                    </iwxxm:values>
                </iwxxm:WeatherPhenomenonTimeseriesDR>
            </iwxxm:phenomenonProperty>
            <iwxxm:aerodrome xlink:href="#a1234"/>
        </iwxxm:AerodromeWeatherPhenomenonForecast>
    </iwxxm:feature>
    
</iwxxm:AviationWeatherForecast>
